## 게임에서의 행동력 구현

**실시간(소캣) 처리가 아닌 케이스의 경우의 처리 방법**

EX) 애니팡의 하트 같은 것

### 서버

1. 클라에서 소모를 요청 시 그 당시의 시간(클라에서 소모한 시간, 단위는 ms)을 기록해 둔다.

2. 일정 시간이 지나면 요청이나 리스트 통신이 올 시 (현재 시간 - 이전에 기록한 시간) / 충전 쿨타임 으로 충전해줘야 하는 개수를 구한다.

3. 충전할 개수가 있으면 충전 해주고 시간은 서버에서 충전해준 시간으로 갱신을 한다 충전되지 않을 시에는 패스.


### 클라이언트

1. 서버에 현재 유저가 보유한 행동력, 클라에서 소모한 시간 또는 서버에서 충전한 시간을 받는다.

2. 화면에 그리고 받은 시간을 기반으로 분, 초로 변환한 다음에 loop를 통해 시간을 계속 깎는다.

3. 한 개 당 충전 시간이 지나면 화면에서만 행동력을 + 해주면 끝.